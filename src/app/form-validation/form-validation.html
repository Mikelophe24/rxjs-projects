<div class="form-container">
  <h1>ğŸ“ RxJS Form Validation</h1>

  <div class="form-wrapper">
    <form [formGroup]="loginForm" (ngSubmit)="onSubmit()" class="validation-form">
      <!-- Email Field -->
      <div class="form-group">
        <label for="email">Email Address</label>
        <input
          id="email"
          type="email"
          formControlName="email"
          (blur)="onEmailBlur()"
          placeholder="Enter your email"
          [class.error]="emailError$ | async"
          />
          @if (emailError$ | async; as error) {
            <div class="error-message">âš ï¸ {{ error }}</div>
          }
        </div>

        <!-- Password Field -->
        <div class="form-group">
          <label for="password">Password</label>
          <input
            id="password"
            type="password"
            formControlName="password"
            (blur)="onPasswordBlur()"
            placeholder="Enter your password"
            [class.error]="passwordError$ | async"
            />
            @if (passwordError$ | async; as error) {
              <div class="error-message">âš ï¸ {{ error }}</div>
            }
            <div class="hint">Minimum 6 characters</div>
          </div>

          <!-- Confirm Password Field -->
          <div class="form-group">
            <label for="confirmPassword">Confirm Password</label>
            <input
              id="confirmPassword"
              type="password"
              formControlName="confirmPassword"
              (blur)="onConfirmPasswordBlur()"
              placeholder="Confirm your password"
              [class.error]="confirmPasswordError$ | async"
              />
              @if (confirmPasswordError$ | async; as error) {
                <div class="error-message">
                  âš ï¸ {{ error }}
                </div>
              }
            </div>

            <!-- Submit Button -->
            <button
              type="submit"
              class="submit-btn"
              [disabled]="!(isFormValid$ | async)"
              [class.disabled]="!(isFormValid$ | async)"
              >
              {{ (isFormValid$ | async) ? 'âœ… Submit' : 'ğŸ”’ Fix Errors to Submit' }}
            </button>

            <!-- Form Status -->
            <div class="form-status">
              <div class="status-item" [class.valid]="!(emailError$ | async)">
                <span class="icon">{{ (emailError$ | async) ? 'âŒ' : 'âœ…' }}</span>
                <span>Email Valid</span>
              </div>
              <div class="status-item" [class.valid]="!(passwordError$ | async)">
                <span class="icon">{{ (passwordError$ | async) ? 'âŒ' : 'âœ…' }}</span>
                <span>Password Valid</span>
              </div>
              <div class="status-item" [class.valid]="!(confirmPasswordError$ | async)">
                <span class="icon">{{ (confirmPasswordError$ | async) ? 'âŒ' : 'âœ…' }}</span>
                <span>Passwords Match</span>
              </div>
            </div>
          </form>
        </div>

        <!-- RxJS Info -->
        <div class="info-box">
          <h3>ğŸ”§ RxJS Operators Used:</h3>
          <ul>
            <li><code>combineLatest</code> - Combine email, password, confirmPassword validations</li>
            <li><code>map</code> - Transform validation state thÃ nh error messages</li>
            <li><code>startWith</code> - Emit giÃ¡ trá»‹ ban Ä‘áº§u ngay láº­p tá»©c</li>
            <li><code>debounceTime</code> - Äá»£i 300ms sau khi user ngá»«ng gÃµ má»›i validate</li>
          </ul>

          <h3>ğŸ“š Reactive Form Concepts:</h3>
          <ul>
            <li><strong>FormControl:</strong> Quáº£n lÃ½ giÃ¡ trá»‹ vÃ  validation cá»§a tá»«ng field</li>
            <li><strong>valueChanges:</strong> Observable emit má»—i khi giÃ¡ trá»‹ thay Ä‘á»•i</li>
            <li><strong>Validators:</strong> Built-in validators (required, email, minLength)</li>
            <li><strong>Real-time Validation:</strong> Validate ngay khi user nháº­p (vá»›i debounce)</li>
            <li><strong>Submit Button State:</strong> Enable/disable dá»±a trÃªn form validity</li>
          </ul>
        </div>
      </div>
